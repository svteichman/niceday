---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# niceday

<!-- badges: start -->
[![R-CMD-check](https://github.com/statdivlab/niceday/workflows/R-CMD-check/badge.svg)](https://github.com/statdivlab/niceday/actions)
<!-- badges: end -->

`niceday` is an `R` package for estimating fold-differences in multivariate outcomes across binary treatments and in the presence of other covariates. It uses a nonparametric approach, which means that under a given set of identifiability assumptions, no assumptions about the distribution of outcomes or the relationship between covariates and outcomes need to be made.

## Installation

To install and load `niceday`, use the following code.

``` r
# install.packages("remotes")
remotes::install_github("statdivlab/niceday")
library(niceday)
```

## Use

Consider a count matrix `W`, metadata `data`, the treatment `A`, and covariates to adjust for `X`.

```{r example}
library(niceday)

data(EcoZUR_meta)
data(EcoZUR_count)
ndFit(W = EcoZUR_count[, 1:50], # consider only the first 50 taxa to run quickly
      data = EcoZUR_meta,
      A = ~ Diarrhea,
      X = ~ sex + age_months,
      num_crossval_folds = 2, # use more folds in practice
      num_crossfit_folds = 2, # for cross validation and cross fitting
      sl.lib.pi = c("SL.mean"), # choosing single learner for the example to run quickly,
      sl.lib.m = c("SL.mean"))  # in practice would use other options as well
```

## Citation

If you use `niceday` for your analysis, please cite our manuscript. 

Grant Hopkins, Sarah Teichman, Ellen Graham, and Amy Willis. "Nonparametric Identification and Estimation of Ratios of Multi-Category Means under Preferential Sampling." 

## Bug reports and feature requests 

If you identify a bug in `niceday` or have a feature request, please post an issue [here](https://github.com/statdivlab/niceday/issues). 

## Nomenclature

`niceday` stands for Nonparametrically Identified (de-Confounded) Estimands for Difference Abundance, Yippee!
